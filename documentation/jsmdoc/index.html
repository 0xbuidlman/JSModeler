<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	 "http://www.w3.org/TR/html4/strict.dtd">

<html>

<head>

	<meta http-equiv="content-type" content="text/html;charset=utf-8">
	<link rel="stylesheet" type="text/css" href="jsmdoc.css">
	<title>JSModeler Documentation</title>

	<script type="text/javascript">
		var jsonData = null;
	
		function ShowFunction (entryArray, entryName)
		{
			var docDiv = document.getElementById ('documentation');
			while (docDiv.lastChild) {
				docDiv.removeChild (docDiv.lastChild);
			}
			
			var titleDiv = document.createElement ('div');
			titleDiv.className = 'doctitle1';
			titleDiv.innerHTML = entryName;
			docDiv.appendChild (titleDiv);

			var indented = document.createElement ('div');
			indented.className = 'indented';
			
			var content = entryArray[entryName];
			if (content.description !== undefined) {
				var contentDiv = document.createElement ('div');
				contentDiv.className = 'doccontent';
				contentDiv.innerHTML = content.description;
				indented.appendChild (contentDiv);
			}
			
			docDiv.appendChild (indented);
		}
	
		function ShowClass (entryArray, entryName)
		{
			var docDiv = document.getElementById ('documentation');
			while (docDiv.lastChild) {
				docDiv.removeChild (docDiv.lastChild);
			}
			
			var titleDiv = document.createElement ('div');
			titleDiv.className = 'doctitle1';
			titleDiv.innerHTML = entryName;
			docDiv.appendChild (titleDiv);

			var indented = document.createElement ('div');
			indented.className = 'indented';
			
			var content = entryArray[entryName];
			if (content.description !== undefined) {
				var contentDiv = document.createElement ('div');
				contentDiv.className = 'doccontent';
				contentDiv.innerHTML = content.description;
				indented.appendChild (contentDiv);
			}
			
			docDiv.appendChild (indented);
		}

		function AddModule (module, parentDiv)
		{
			function AddEntry (entryArray, entryName, parentDiv, isFunction)
			{
				var entryDiv = document.createElement ('div');
				entryDiv.className = 'entry'
				entryDiv.onclick = function () {
					if (isFunction) {
						ShowFunction (entryArray, entryName);
					} else {
						ShowClass (entryArray, entryName);
					}
				}
				
				var markDiv = document.createElement ('div');
				if (isFunction) {
					markDiv.className = 'entrymark function';
					markDiv.innerHTML = 'F';
				} else {
					markDiv.className = 'entrymark class';
					markDiv.innerHTML = 'C';
				}
				entryDiv.appendChild (markDiv);
				
				var nameDiv = document.createElement ('div');
				nameDiv.className = 'entryname'
				nameDiv.innerHTML = entryName;
				entryDiv.appendChild (nameDiv);

				parentDiv.appendChild (entryDiv);			
			}
			
			if (module.functions !== undefined) {
				var functionName;
				for (functionName in module.functions) {
					AddEntry (module.functions, functionName, parentDiv, true);
				}
			}
			if (module.classes !== undefined) {
				var className;
				for (className in module.classes) {
					AddEntry (module.classes, className, parentDiv, false);
				}
			}
		}	
	
		function AddModules (parentDiv)
		{
			var modules = jsonData.modules;
			var module, moduleName, indented;
			for (module in modules) {
				moduleName = document.createElement ('div');
				moduleName.className = 'modulename'
				moduleName.innerHTML = module;
				parentDiv.appendChild (moduleName);
				indented = document.createElement ('div');
				indented.className = 'indented'
				AddModule (modules[module], indented);
				parentDiv.appendChild (indented);
			}
		}
	
		function DocumentationLoaded ()
		{
			var entriesDiv = document.getElementById ('entries');
			while (entriesDiv.lastChild) {
				entriesDiv.removeChild (entriesDiv.lastChild);
			}
			AddModules (entriesDiv);
		}
	
		function Load ()
		{
			var request = new XMLHttpRequest ();
			request.overrideMimeType ('application/json');
			request.open ('GET', 'jsmdoc.json', true);
			request.onreadystatechange = function () {
				if (request.readyState == 4) {
					jsonData = JSON.parse (request.responseText);
					DocumentationLoaded (jsonData);
				}
			};
			request.send (null);
		}

		window.onload = function ()
		{
			Load ();			
		}
	</script>
</head>

<body>
	<div class="left">
		<div class="content">
			<div class="title">
				<span class="maintitle">JSModeler</span> <span class="subtitle">docs</span>
			</div>
			<div id="entries">
				Loading...
			</div>
		</div>
	</div>
	<div class="right">
		<div class="content">
			<div id="documentation">
			</div>
		</div>
	</div>
</body>

</html>
