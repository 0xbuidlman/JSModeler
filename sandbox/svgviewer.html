<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	 "http://www.w3.org/TR/html4/strict.dtd">

<html>

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7;" > 
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
<!-- JSModeler includes start -->
	<script type="text/javascript" src="../src/core/jsm.js"></script>
	<script type="text/javascript" src="../src/core/timer.js"></script>
	<script type="text/javascript" src="../src/geometry/determinant.js"></script>
	<script type="text/javascript" src="../src/geometry/matrix.js"></script>
	<script type="text/javascript" src="../src/geometry/coord.js"></script>
	<script type="text/javascript" src="../src/geometry/coordutils.js"></script>
	<script type="text/javascript" src="../src/geometry/coordsystem.js"></script>
	<script type="text/javascript" src="../src/geometry/coordsystemutils.js"></script>
	<script type="text/javascript" src="../src/geometry/sector.js"></script>
	<script type="text/javascript" src="../src/geometry/sectorutils.js"></script>
	<script type="text/javascript" src="../src/geometry/line.js"></script>
	<script type="text/javascript" src="../src/geometry/lineutils.js"></script>
	<script type="text/javascript" src="../src/geometry/transformation.js"></script>
	<script type="text/javascript" src="../src/geometry/transformationutils.js"></script>
	<script type="text/javascript" src="../src/geometry/plane.js"></script>
	<script type="text/javascript" src="../src/geometry/planeutils.js"></script>
	<script type="text/javascript" src="../src/geometry/projection.js"></script>
	<script type="text/javascript" src="../src/geometry/convexhull.js"></script>
	<script type="text/javascript" src="../src/geometry/polygon.js"></script>
	<script type="text/javascript" src="../src/geometry/polygonutils.js"></script>
	<script type="text/javascript" src="../src/geometry/bsptree.js"></script>
	<script type="text/javascript" src="../src/geometry/utilities.js"></script>
	<script type="text/javascript" src="../src/modeler/body.js"></script>
	<script type="text/javascript" src="../src/modeler/model.js"></script>
	<script type="text/javascript" src="../src/modeler/material.js"></script>
	<script type="text/javascript" src="../src/modeler/bodyutils.js"></script>
	<script type="text/javascript" src="../src/modeler/adjacencylist.js"></script>
	<script type="text/javascript" src="../src/modeler/textureutils.js"></script>
	<script type="text/javascript" src="../src/modeler/cututils.js"></script>
	<script type="text/javascript" src="../src/modeler/generator.js"></script>
	<script type="text/javascript" src="../src/modeler/camera.js"></script>
	<script type="text/javascript" src="../src/modeler/exporter.js"></script>
	<script type="text/javascript" src="../src/extras/solidgenerator.js"></script>
	<script type="text/javascript" src="../src/extras/extgenerator.js"></script>
	<script type="text/javascript" src="../src/extras/painter.js"></script>
	<script type="text/javascript" src="../src/extras/drawing.js"></script>
	<script type="text/javascript" src="../src/extras/subdivision.js"></script>
	<script type="text/javascript" src="../src/extras/svgtomodel.js"></script>
	<script type="text/javascript" src="../src/extras/csg.js"></script>
	<script type="text/javascript" src="../src/extras/surfaces.js"></script>
	<script type="text/javascript" src="../src/dialogs/basedialog.js"></script>
	<script type="text/javascript" src="../src/dialogs/settingscontrols.js"></script>
	<script type="text/javascript" src="../src/dialogs/settingsdialog.js"></script>
	<script type="text/javascript" src="../src/viewer/mouse.js"></script>
	<script type="text/javascript" src="../src/viewer/touch.js"></script>
	<script type="text/javascript" src="../src/viewer/converter.js"></script>
	<script type="text/javascript" src="../src/viewer/viewer.js"></script>
	<script type="text/javascript" src="../src/viewer/softwareviewer.js"></script>
<!-- JSModeler includes end -->
	<script type="text/javascript" src="contourbody.js"></script>
	<title>Example</title>

	<script type="text/javascript">
		var viewer = null;
		var body = null;
	
		function TestBody0 ()
		{
			var body = new JSM.Body ();

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 1.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 1.0, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([0, 1, 2, 3]));

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 2.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 2.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 3.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 3.0, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([4, 5, 6, 7]));

			return body;
		}
		
		function TestBody1 ()
		{
			var body = new JSM.Body ();

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 1.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 1.0, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([0, 1, 2, 3]));

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 0.5, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 0.5, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 1.5, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 1.5, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([4, 5, 6, 7]));
			
			return body;
		}

		function TestBody2 ()
		{
			var body = new JSM.Body ();

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 1.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 1.0, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([0, 1, 2, 3]));

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 0.5, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 0.5, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 1.5, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 1.5, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([4, 5, 6, 7]));

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 1.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 1.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 2.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 2.0, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([8, 9, 10, 11]));

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 1.5, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 1.5, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 2.5, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 2.5, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([12, 13, 14, 15]));

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 2.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 2.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 3.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 3.0, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([16, 17, 18, 19]));
			
			return body;
		}

		function TestBody2_1 ()
		{
			var body = new JSM.Body ();

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 1.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 1.0, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([0, 1, 2, 3]));

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 2.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 2.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 3.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 3.0, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([4, 5, 6, 7]));
			
			return body;
		}
		
		function TestBody2_2 ()
		{
			var body = new JSM.Body ();

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 1.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 1.0, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([0, 1, 2, 3]));

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 0.5, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 0.5, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 1.5, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 1.5, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([4, 5, 6, 7]));

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 1.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 1.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 2.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 2.0, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([8, 9, 10, 11]));

			return body;
		}
		
		function TestBody3 ()
		{
			var body = new JSM.Body ();

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 0.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 0.0, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([0, 1, 2, 3]));

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 0.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 1.0, 0.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 1.0, 0.0)));
			body.AddPolygon (new JSM.BodyPolygon ([4, 5, 6, 7]));

			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 0.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 0.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (1.0, 1.0, 1.0)));
			body.AddVertex (new JSM.BodyVertex (new JSM.Coord (0.0, 1.0, 1.0)));
			body.AddPolygon (new JSM.BodyPolygon ([8, 9, 10, 11]));

			return body;
		}

		function TestBody4 ()
		{
			var polyLine = [
				new JSM.Coord (0.8, 0.0, -0.5),
				new JSM.Coord (0.5, 0.0, 0.0),
				new JSM.Coord (0.5, 0.0, 0.5)
			];
			var axis = new JSM.Sector (new JSM.Coord (0.0, 0.0, 0.0), new JSM.Coord (0.0, 0.0, 1.0));
			return JSM.GenerateRevolved (polyLine, axis, 360.0 * JSM.DegRad, 10, true, false);
		}
		
		function TestBody4_1 ()
		{
			var polyLine = [
				new JSM.Coord (0.8, 0.0, -0.5),
				new JSM.Coord (0.5, 0.0, 0.4),
				new JSM.Coord (0.5, 0.0, 0.5)
			];
			var axis = new JSM.Sector (new JSM.Coord (0.0, 0.0, 0.0), new JSM.Coord (0.0, 0.0, 1.0));
			return JSM.GenerateRevolved (polyLine, axis, 360.0 * JSM.DegRad, 50, true, false);
		}

		function TestBody5 ()
		{
			var polygon = [
				new JSM.Coord (1.0, 0.0, 0.0),
				new JSM.Coord (1.0, 1.0, 0.0),
				new JSM.Coord (0.0, 1.0, 0.0)
			];
			
			return JSM.GeneratePrism (polygon, new JSM.Coord (0.0, 0.0, 1.0), 1.0, true);
		}
		
		function TestBody6 ()
		{
			var polygon = [
				new JSM.Coord (1.0, 0.0, 0.0),
				new JSM.Coord (0.2, 0.2, 0.0),
				new JSM.Coord (0.0, 1.0, 0.0),
				new JSM.Coord (-0.2, 0.2, 0.0),
				new JSM.Coord (-1.0, 0.0, 0.0),
				new JSM.Coord (-0.2, -0.2, 0.0),
				new JSM.Coord (0.0, -1.0, 0.0),
				new JSM.Coord (0.2, -0.2, 0.0)
			];

			return JSM.GeneratePrism (polygon, new JSM.Coord (0.0, 0.0, 1.0), 1.0, true);
		}

		function TestBody7 ()
		{
			return JSM.GenerateCylinder (1, 1, 50, true, false);
		}

		function TestBodyCube ()
		{
			return JSM.GenerateCuboid (1, 1, 1);
		}

		function Load ()
		{
			var viewerSettings = {
				cameraEyePosition : [2.0, 2.0, 2.0],
				cameraCenterPosition : [0.0, 0.0, 0.0],
				cameraUpVector : [0, 0, 1],
				drawMode : 'HiddenLineFrontFacing'
			};

			viewer = new JSM.SoftwareViewer ();
			var success = viewer.Start ('example', viewerSettings);

			//var body = TestBody0 ();
			//var body = GenerateContourSolid ('Tetrahedron', 0.1);
			//body = JSM.CatmullClarkSubdivision (body, 4);
			var body = JSM.GenerateCuboid (1, 1, 1);
			
			var materials = new JSM.Materials ();
			materials.AddMaterial (new JSM.Material (0xcc0000, 0xcc0000));
			materials.AddMaterial (new JSM.Material (0x0000cc, 0x0000cc));
			
			body.GetPolygon (1).SetMaterialIndex (0);
			body.GetPolygon (2).SetMaterialIndex (1);

			viewer.AddBody (body, materials);
			viewer.Draw ();
		}
		
		window.onload = function ()
		{
			Load ();			
		}
	</script>

</head>

<body>
	<svg id="example" xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="500"></svg>
</body>

</html>
